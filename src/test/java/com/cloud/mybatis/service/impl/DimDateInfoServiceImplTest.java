package com.cloud.mybatis.service.impl;import com.cloud.mybatis.entity.DimDateInfo;import com.cloud.mybatis.mapper.DimDateInfoMapper;import org.junit.jupiter.api.Assertions;import org.junit.jupiter.api.BeforeEach;import org.junit.jupiter.api.Test;import org.mockito.*;/** * @Author zhouTao * @Date 2023/2/7 */class DimDateInfoServiceImplTest {    @Mock    DimDateInfoMapper dimDateInfoMapper;    @InjectMocks    DimDateInfoServiceImpl dimDateInfoServiceImpl;    @BeforeEach    void setUp() {        MockitoAnnotations.openMocks(this);    }    @Test    void testGetByDate() {        String date = "";        try {            dimDateInfoServiceImpl.getByDate(date);        } catch (Exception e) {            Assertions.assertEquals("日期不能为空", e.getMessage());            Assertions.assertTrue(e instanceof RuntimeException);        }        date = "2022-02-01";        Mockito.when(dimDateInfoMapper.getByDate(date)).thenReturn(new DimDateInfo(Integer.valueOf(20220201), date,                Integer.valueOf(0), Integer.valueOf(0), "quarterCn", Integer.valueOf(0),                "monthCn", "monthEn", Integer.valueOf(0), "weekCn", "weekEn",                Integer.valueOf(0), Integer.valueOf(0), Integer.valueOf(0)));        DimDateInfo result = dimDateInfoServiceImpl.getByDate(date);        Assertions.assertEquals(Integer.valueOf(date.replace("-", "")), result.getId());    }}